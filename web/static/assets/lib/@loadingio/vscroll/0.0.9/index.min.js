!function(){var t,e={fixed:function(t){return this.root=(t=null==t?{}:t).root,this.childNodes=Array.from(this.root.childNodes),this.init(),this}};e.fixed.prototype=((t=Object.create(Object.prototype)).init=function(){var i=this;return this.ph=[0,1].map(function(){return document.createElement("div")}).map(function(t){var e=t.style;return e.width="100%",e.height="0px",e.gridColumn="1 / -1",i.root.appendChild(t)}),this.root.addEventListener("scroll",function(){return i.locate()}),this.rbox={height:0}},t.setchild=function(t){var e=document.createElement("template");if(e.innerHTML=t,this.childNodes=Array.from(e.content.childNodes),this.root.innerHTML="",this.ph[0].parentNode||this.root.insertBefore(this.ph[0],this.root.childNodes[0]),!this.ph[1].parentNode)return this.root.appendChild(this.ph[1])},t.update=function(t){var e,i,h,o,s,r,n,d;for(null==t&&(t=0),this.range=[1,0],this.row=1,this.count=1,this.range[0]=(e=this.range[0])<(i=this.childNodes.length-1)?e:i,this.range[1]=(e=this.range[1])<(i=this.childNodes.length-1)?e:i,h=0,o=this.childNodes.length;h<o;++h)s=h,this.childNodes[s].parentNode&&this.childNodes[s].parentNode.removeChild(this.childNodes[s]);for(r=(e=t||this.childNodes.length)<(i=this.childNodes.length)?e:i,h=0;h<r;++h)s=h,this.childNodes[s].parentNode||this.root.insertBefore(this.childNodes[s],this.ph[1]);for(this.ph[0].style.height=this.ph[1].style.height="0px",this.root.scrollTop=0,this.rbox=t=this.root.getBoundingClientRect(),n=void 0,h=0;h<r;++h)if(s=h,this.childNodes[s].nodeType===Node.ELEMENT_NODE)if(d=this.childNodes[s].getBoundingClientRect(),this.lineHeight=d.height,null==n)n=d.y;else{if(d.y!==n){this.lineHeight=d.y-n;break}this.count++}for(this.row=Math.ceil(4*t.height/(this.lineHeight||1)),this.delta=1<(e=this.row*this.count)?e:1,h=0;h<r;++h)s=h,this.childNodes[s].parentNode.removeChild(this.childNodes[s]);return this.locate()},t.locate=function(){var t,e,i,h,o,s,r=[this.childNodes.length,this.delta,this.count,this.childNodes,this.lineHeight,this.root,this.ph,this.rbox,this.range],n=r[0],d=r[1],l=r[2],c=r[3],p=r[4],a=r[5],u=r[6],f=r[7],N=r[8];for(u[0].parentNode||a.insertBefore(u[0],a.childNodes[0]),u[1].parentNode||a.appendChild(u[1]),t=(r=[n,-1])[0],e=r[1],i=0;d<0?n<i:i<n;i+=d)s={y:(o=(r=(h=i)+d-1)<(o=c.length-1)?r:o)/l*p,height:p},{y:h/l*p,height:p}.y-a.scrollTop<=1.5*f.height&&s.y+s.height-a.scrollTop>-.5*f.height&&(h<t&&(t=h),e<o)&&(e=o);for(a.scrollTop>a.scrollHeight/2&&t===n&&-1===e&&(t=(r=[d*Math.floor(n/d),n-1])[0],e=r[1]),i=0<(r=N[0])?r:0;i<t;++i)c[h=i].parentNode&&c[h].parentNode.removeChild(c[h]);for(i=(r=N[0]-1)>t?r:t;t<=i;--i)c[h=i].parentNode||a.insertBefore(c[h],u[0].nextSibling);for(i=N[1];e<i;--i)c[h=i].parentNode&&c[h].parentNode.removeChild(c[h]);for(i=(r=N[1]+1)<e?r:e;i<=e;++i)c[h=i].parentNode||a.insertBefore(c[h],u[1]);return this.range=[t,e],u[0].style.height=p*(0<(r=t/l)?r:0)+"px",u[1].style.height=p*Math.floor((n-e-1)/l)+"px"},t.appendChild=function(t){return this.childNodes.splice(this.childNodes.length,0,t)},t.insertBefore=function(t,e){e=this.childNodes.indexOf(e);return e<0&&(e=this.childNodes.length),this.childNodes.splice(e,0,t)},t.removeChild=function(t){if(~(t=this.childNodes.indexOf(t)))return this.childNodes.splice(t,1)},t),e.dummy=function(t){return this.root=(t=null==t?{}:t).root,this.childNodes=[],this},e.dummy.prototype=((t=Object.create(Object.prototype)).appendChild=function(t){return this.childNodes.splice(this.childNodes.length,0,t),this.root.appendChild(t)},t.insertBefore=function(t,e){return this.childNodes.splice(this.childNodes.indexOf(e),0,t),this.root.insertBefore(t,e)},t.removeChild=function(t){var e;if(~(e=this.childNodes.indexOf(t)))return this.childNodes.splice(e,1),this.root.removeChild(t)},t),"undefined"!=typeof module&&null!==module?module.exports=e:"undefined"!=typeof window&&null!==window&&(window.vscroll=e)}.call(this);
