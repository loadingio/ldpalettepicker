!function(){var t,e={fixed:function(t){return this.root=(t=null==t?{}:t).root,this.childNodes=Array.from(this.root.childNodes),this.init(),this}};e.fixed.prototype=((t=Object.create(Object.prototype)).init=function(){var i=this;return this.ph=[0,1].map(function(){return document.createElement("div")}).map(function(t){var e=t.style;return e.width="100%",e.height="0px",e.gridColumn="1 / -1",i.root.appendChild(t)}),this.root.addEventListener("scroll",function(){return i.locate()}),this.rbox={height:0}},t.setchild=function(t){var e=document.createElement("template");if(e.innerHTML=t,this.childNodes=Array.from(e.content.childNodes),this.root.innerHTML="",this.ph[0].parentNode||this.root.insertBefore(this.ph[0],this.root.childNodes[0]),!this.ph[1].parentNode)return this.root.appendChild(this.ph[1])},t.update=function(t){var e,i,h,o,s,n,r,d;for(null==t&&(t=0),this.range=[1,0],this.row=1,this.count=1,this.range[0]=(e=this.range[0])<(i=this.childNodes.length-1)?e:i,this.range[1]=(e=this.range[1])<(i=this.childNodes.length-1)?e:i,h=0,o=this.childNodes.length;h<o;++h)s=h,this.childNodes[s].parentNode&&this.childNodes[s].parentNode.removeChild(this.childNodes[s]);for(n=(e=t||this.childNodes.length)<(i=this.childNodes.length)?e:i,h=0;h<n;++h)s=h,this.childNodes[s].parentNode||this.root.insertBefore(this.childNodes[s],this.ph[1]);for(this.ph[0].style.height=this.ph[1].style.height="0px",this.root.scrollTop=0,this.rbox=t=this.root.getBoundingClientRect(),r=void 0,h=0;h<n;++h)if(s=h,this.childNodes[s].nodeType===Node.ELEMENT_NODE)if(d=this.childNodes[s].getBoundingClientRect(),this.lineHeight=d.height,null==r)r=d.y;else{if(d.y!==r){this.lineHeight=d.y-r;break}this.count++}for(this.row=Math.ceil(4*t.height/(this.lineHeight||1)),this.delta=1<(e=this.row*this.count)?e:1,h=0;h<n;++h)s=h,this.childNodes[s].parentNode.removeChild(this.childNodes[s]);return this.locate()},t.locate=function(){var t,e,i,h,o,s,n,r,d=[this.childNodes.length,this.delta,this.count,this.childNodes,this.lineHeight,this.root,this.ph,this.rbox,this.range],l=d[0],c=d[1],p=d[2],a=d[3],u=d[4],f=d[5],N=d[6],g=d[7],m=d[8];for(N[0].parentNode||f.insertBefore(N[0],f.childNodes[0]),N[1].parentNode||f.appendChild(N[1]),t=(d=[l,-1])[0],e=d[1],i=0;c<0?l<i:i<l;i+=c)n={y:(o=(d=(h=i)+c-1)<(s=a.length-1)?d:s)/p*u,height:u},{y:h/p*u,height:u}.y-f.scrollTop<=1.5*g.height&&n.y+n.height-f.scrollTop>-.5*g.height&&(h<t&&(t=h),e<o)&&(e=o);for(f.scrollTop>f.scrollHeight/2&&t===l&&-1===e&&(t=(d=[c*Math.floor(l/c),l-1])[0],e=d[1]),i=0<(d=m[0])?d:0;i<t;++i)a[h=i].parentNode&&a[h].parentNode.removeChild(a[h]);for(i=(d=(r=m[0]-1)>t?r:t)<(s=a.length-1)?d:s;t<=i;--i)a[h=i].parentNode||f.insertBefore(a[h],N[0].nextSibling);for(i=(d=m[1])<(s=a.length-1)?d:s;e<i;--i)a[h=i].parentNode&&a[h].parentNode.removeChild(a[h]);for(i=0<(d=(s=m[1]+1)<e?s:e)?d:0;i<=e;++i)a[h=i].parentNode||f.insertBefore(a[h],N[1]);return this.range=[t,e],N[0].style.height=u*(0<(d=t/p)?d:0)+"px",N[1].style.height=u*Math.floor((l-e-1)/p)+"px"},t.appendChild=function(t){return this.childNodes.splice(this.childNodes.length,0,t)},t.insertBefore=function(t,e){e=this.childNodes.indexOf(e);return e<0&&(e=this.childNodes.length),this.childNodes.splice(e,0,t)},t.removeChild=function(t){if(~(t=this.childNodes.indexOf(t)))return this.childNodes.splice(t,1)},t),e.dummy=function(t){return this.root=(t=null==t?{}:t).root,this.childNodes=[],this},e.dummy.prototype=((t=Object.create(Object.prototype)).appendChild=function(t){return this.childNodes.splice(this.childNodes.length,0,t),this.root.appendChild(t)},t.insertBefore=function(t,e){return this.childNodes.splice(this.childNodes.indexOf(e),0,t),this.root.insertBefore(t,e)},t.removeChild=function(t){var e;if(~(e=this.childNodes.indexOf(t)))return this.childNodes.splice(e,1),this.root.removeChild(t)},t),"undefined"!=typeof module&&null!==module?module.exports=e:"undefined"!=typeof window&&null!==window&&(window.vscroll=e)}.call(this);
